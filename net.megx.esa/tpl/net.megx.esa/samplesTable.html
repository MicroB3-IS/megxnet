<!-- <div>
	<table style="width: 930px;">
		<tr>
			<td style="text-align: right;">
				<input id="filterScientist" class="filterRows" type="checkbox" value="scientist" checked="checked"/><span style="font-size: 17px;">Scientists</span>&nbsp;&nbsp;
				<input id="filterCitizen" class="filterRows" type="checkbox" value="citizen" checked="checked"/><span style="font-size: 17px;">Citizens</span>
			</td>
			<td style="text-align: right;">
				<a id="customizeTableLnk" href="#" style="font-size: 18px;">Customize table</a>
			</td>
		</tr>
	</table>
</div> -->

<!-- <div>
	<table style="width: 100%">
		<tr>
			<td style="width: 80%;">
				<span id="errorMessage" class="errorMsg">Could not retrieve data from server. Please contact us and try again later.</span>
			</td>
			<td style="width: 20%; text-align: right;">
				<a id="customizeTableLnk" href="#" style="font-size: 18px;">Customize table</a>
			</td>
		</tr>
	</table>
</div> -->

<div id="noSamplesSelected"><span>Please select some samples for download first.</span></div>

<table id="samples-table" class="table table-striped table-hover table-bordered dt-responsive megx_dataTable">
	<thead>
		<tr>
			<th>View details</th>
			<th>Select to download</th>
			<th>Observer</th>
			<th>Sample name</th>
			<th>Date of creation</th>
			<th>Biome</th>
			<th>Weather condition</th>
			<th>Feature</th>
			<th>Air temperature</th>
			<th>Latitude</th>
			<th>Longitude</th>
			<th>Barcode</th>
			<th>Elevation</th>
			<th>Collection method</th>
			<th>Permit</th>
			<th>Material</th>
			<th>Secchi depth</th>
			<th>Sampling depth</th>
			<th>Water depth</th>
			<th>Sample size</th>
			<th>Water temperature</th>
			<th>Conductivity</th>
			<th>Wind speed</th>
			<th>Salinity</th>
			<th>Comment</th>
			<th>Accuracy</th>
			<th>Phosphate</th>
			<th>Nitrate</th>
			<th>Nitrite</th>
			<th>pH</th>
			<th>MyOsd number</th>
			<th>Filter one</th>
			<th>Filter two</th>
			<th>Action</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>

<script type="text/javascript">
jQuery(document).ready(
	    function() {
	        (function() {

	            var columns = [{
	                data: 'label',
	                width: "3em",
	                render: function(id) {
	                    return '';
	                },
	                sortable: false
	            }, {
	                data: 'id',
	                render: function(id) {
	                    return '<input class=\'downloadSample\' type=\'checkbox\' value=\'' + id + '\'>';
	                },
	                width: "5em",
	                className: "text-center",
	                sortable: false
	            }, {
	                data: 'collectorId',
	                width: "7em",
	                className: "none",
	                visible: false
	            }, {
	                data: 'label',
	                width: "7em"
	            }, {
	                data: 'taken',
	                width: "7em",
	                sortable: true
	            }, {
	                data: 'biome',
	                width: "7em"
	            }, {
	                data: 'weatherCondition',
	                width: "8em"
	            }, {
	                data: 'feature',
	                className: "none",
	                visible: false
	            }, {
	                data: 'airTemperature',
	                width: "5em",
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'lat',
	                className: "none",
	                visible: false
	            }, {
	                data: 'lon',
	                className: "none",
	                visible: false
	            }, {
	                data: 'barcode',
	                className: "none",
	                visible: false
	            }, {
	                data: 'elevation',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'collection',
	                className: "none",
	                visible: false
	            }, {
	                data: 'permit',
	                className: "none",
	                visible: false
	            }, {
	                data: 'material',
	                className: "none",
	                visible: false
	            }, {
	                data: 'secchiDepth',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'samplingDepth',
	                className: "none",
	                visible: false,
	                width: "7em",
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'waterDepth',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'sampleSize',
	                className: "none",
	                visible: false
	            }, {
	                data: 'waterTemperature',
	                width: "5em",
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'conductivity',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'windSpeed',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'salinity',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'comment',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'accuracy',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'phosphate',
	                className: "none",
	                visible: false,
	                className: "none",
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'nitrate',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'nitrite',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'ph',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'myosdNumber',
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'filterOne',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'filterTwo',
	                className: "none",
	                visible: false,
	                render: function(id) {
	                    return id || '-';
	                }
	            }, {
	                data: 'id',
	                className: 'center',
	                render: function(id) {
	                    var viewUrl = ctx.siteUrl + '/osd-app/sampleDetails?sampleId=' + id;
	                    return '<a href=' + viewUrl + ' class=\'viewSampleClass\'>View more</a>';
	                }
	            }];

	            var buttons = {
	                toolbarButtons: {
	                    downloadSelected: {
	                        tooltip: "Download Selected",
	                    }
	                }
	            };
	            var data = {};

	            var datatablesConfigOverride = {
	                "order" : [[ 4, 'desc' ]],
	                "paging" : true,
	                "ordering" : true
	            };

	            var table = new Megx.MegxTable("samples-table", columns, buttons,
	                "$ctx.siteUrl/ws/v1/esa/v1.0.0/allSamples", data, datatablesConfigOverride);
	        })();
	    });
</script>


<form id="sf" action="$ctx.siteUrl/ws/v1/esa/v1.0.0/downloadSamples.csv" target="csvDownloadTarget" method="POST" style="display: none;">
	<input type="hidden" class="sampleIdsHolder" name="sampleIds" />
</form>

<iframe name="csvDownloadTarget" style="display: none;"></iframe>

<script type="text/javascript" src="$ctx.siteUrl/net.megx.esa/js/samplesTableCustomization.min.js"></script>
<script type="text/javascript" src="$ctx.siteUrl/net.megx.esa/js/samplesDownload.js"></script>

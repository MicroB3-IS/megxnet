<link href="$ctx.siteUrl/net.megx.mibig/css/bgc-registration.css"
  rel="stylesheet" type="text/css"
>
<link
  href="$ctx.siteUrl/net.megx.osd.registry/stylesheets/alpaca-1.1.3.css"
  rel="stylesheet" type="text/css"
>


<script type="text/javascript"
  src="$ctx.siteUrl/net.megx.osd.registry/js/jquery.tmpl-1.0.0pre.js"
></script>
<!-- Alpaca -->
<script type="text/javascript"
  src="$ctx.siteUrl/net.megx.osd.registry/js/alpaca-full-1.1.3.min.js"
></script>

<script type="text/javascript"
  src="$ctx.siteUrl/net.megx.form-widget/js/megx-form-widget-0.1.min.js"
></script>

<div style="padding: 15px">
  <h1>MIBiG Annotation Form</h1>

  <div id="bgc-registration-form"></div>
</div>
  
<script>
  var MegxFormWidget = new MegxFormWidget({
    target : "bgc-registration-form",
    schemaLocation : ctx.siteUrl + "/net.megx.mibig/data/mibig_schema.json",
    optionsLocation : ctx.siteUrl + "/net.megx.mibig/data/mibig_options.json",
    formId: "mibig-form",
    wizard : {
      "renderWizard" : true,
      "statusBar" : true,
      "buttons" : {
        "done" : {
          "validateOnClick" : true,
          //"description":"Submit", //Doesn't work
          "onClick" : function() {
            submit();
            //alert("Fired done.onClick handler");
          }
        },
        "next" : {
          "validateOnClick" : true,
          "onClick" : function() {
          //alert("Fired next.onClick handler");
          }
        },
        "prev" : {
          "validateOnClick" : true,
          "onClick" : function() {
          //alert("Fired prev.onClick handler");
          }
        }
      },
      //"validation": true, //use wizard template instead to allow validation?
      "steps" : 3,
      "bindings" : {
        "personal" : 1,
        "general_params" : 2,
        "comments" : 3
      },
      "stepTitles" : [ {
        "title" : "Personal",
        "description" : "Name, E-mail, etc."
      }, {
        "title" : "MIBiG Data",
        "description" : "Annotation of the gene cluster"
      }, {
        "title" : "Comments",
        "description" : "Clarifications, comments, etc."
      } ]
    }
  });
</script>